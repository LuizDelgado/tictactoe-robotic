from commands import robot
import time
import os 
from dotenv import load_dotenv

load_dotenv()
#--------------------------------Mapa de posições-----------------------------------#
p1 = "248.00, -13.75, 622.20, 180.00, 0.00, -178.50" #Posição inicial

#------------------------------------Linha 1----------------------------------------#
p2_aereo = "130.00, -120.00, 440.00, -180.00, 0.00, -180.00" #Posição aerea p1
p2       = "130.00, -120.00, 428.50, -180.00, 0.00, -180.00" #P1 da malha
p3 =       "305.00, -122.00, 428.50, -180.00, 0.00, -180.00" #Fim da linha 1
p3_aerea = "305.00, -122.00, 440.00, -180.00, 0.00, -180.00" #Posição aerea p2

#--------------------------------Espaço central-------------------------------------#
s_aereo1  = "212.00, -121.00, 440.00, -180.00, 0.00, -180.00"
s1        = "212.00, -121.00, 428.60, -180.00, 0.00, -180.00"
s2        = "230.00, -121.00, 428.60, -180.00, 0.00, -180.00"
s_aereo2  = "230.00, -121.00, 440.00, -180.00, 0.00, -180.00"

#------------------------------------Linha 2----------------------------------------#
p4_aereo = "130.00, -50.00, 440.00, -180.00, 0.00, -180.00"
p4 =       "130.00, -50.00, 428.50, -180.00, 0.00, -180.00"
p5 =       "305.00, -52.00, 428.50, -180.00, 0.00, -180.00"
p5_aereo = "305.00, -52.00, 440.00, -180.00, 0.00, -180.00"

#------------------------------------Linha 3----------------------------------------#
p6_aereo = "180.00, -180.00, 440.00, -180.00, 0.00, -180.00"
p6 =       "180.00, -180.00, 428.50, -180.00, 0.00, -180.00"
p7 =       "183.30,    0.00, 428.50, -180.00, 0.00, -180.00"
p7_aereo = "183.30,    0.00, 440.00, -180.00, 0.00, -180.00"

#------------------------------------Linha 4----------------------------------------#
p8_aereo = "249.00, -180.00, 440.00, -180.00, 0.00, -180.00"
p8 =       "249.00, -180.00, 428.50, -180.00, 0.00, -180.00"
p9 =       "252.30,    0.00, 428.50, -180.00, 0.00, -180.00"
p9_aereo = "252.30,    0.00, 440.00, -180.00, 0.00, -180.00"

#--------------------------------Posições centrais----------------------------------#
a1 = "155.30,-146.50,428.50,-180.00, 0.00, -180.00"
a2 = "155.30,-85.00,428.50,-180.00, 0.00, -180.00"
a3 = "155.30,-22.00,428.50,-180.00, 0.00, -180.00"
a4 = "217.30,-146.50,428.50,-180.00, 0.00, -180.00"
a5 = "217.30,-85.00,428.50,-180.00, 0.00, -180.00"
a6 = "217.30,-22.00,428.50,-180.00, 0.00, -180.00"
a7 = "280.30,-146.50,428.50,-180.00, 0.00, -180.00"
a8 = "280.30,-85.00,428.50,-180.00, 0.00, -180.00"
a9 = "280.30,-20.00,428.50,-180.00, 0.00, -180.00"


#--------------------------------Parametrização-------------------------------------#
host = os.getenv("IP")
port = os.getenv("PORT")
robo = robot()
robo.connect_to_robot(host, int(port))
robo.start_control() #Inicia o controle
robo.servo_on() #Liga o servo
robo.set_speed(200)
time.sleep(3)
#-------------------------------Movimento do robô-----------------------------------#
#                     A PARTIR DAQUI O ROBO ENTRARÁ EM MOVIMENTO                    #
#Desenho da malha
robo.initial_position(p1)
robo.draw_mesh(p2_aereo, p2,s1, s_aereo1, s_aereo2, s2, p3, p3_aerea, p4_aereo, p4, 
               p5, p5_aereo, p6_aereo, p6, p7, p7_aereo, p8_aereo, p8, p9, p9_aereo)
robo.draw_x(a1,20,2)
robo.draw_x(a2,20,2)
robo.draw_x(a3,20,2)
robo.draw_x(a4,20,2)    
robo.draw_x(a5,20,2)
robo.draw_x(a6,20,2)
robo.draw_x(a7,20,2)
robo.draw_x(a8,20,2)
robo.draw_x(a9,20,2)
robo.initial_position(p1) #Retorna o robo posição de inicio

robo.end_control()

